{% extends "base.html" %}

{% block title %}Meta-Analysis Results{% endblock %}

{% block content %}
<!-- Hero Section -->
<section class="hero text-center py-5">
  <div class="container">
    <h1 class="display-4">Meta-Analysis Results</h1>
    <p class="lead">In-Depth Evaluation of Our High-Performing Models</p>
  </div>
</section>

<!-- Main Content Section -->
<section class="container my-5">
  <div class="row justify-content-center">
    <div class="col-lg-10">

      <!-- Introduction / Executive Summary -->
      <div class="card shadow-lg mb-4">
        <div class="card-header bg-dark text-white">
          <h4 class="card-title mb-0">Overview</h4>
        </div>
        <div class="card-body">
           <p class="text-justify">
               We reviewed binary classification stock predictions made by our <strong>top-performing models</strong>. Notably, <strong>56%</strong> of these predictions correctly anticipated the market’s direction—just a bit above the 50% expected by random chance.
               We simulated investing <strong>$1,000</strong> on every “Up” prediction, the overall return on investment (ROI) came out to only about <strong>1.75%</strong>. Over the same time period, if you had invested the money in $SPY you would have made approximately 2.5%.
               This modest gain highlights that even with a slight edge in prediction accuracy, the real-world benefit can be limited.
               The interactive chart below illustrates these results, showing how individual trade gains and losses over time tend to follow the broader trends of the market and hit big when market is going up.
           </p>
        </div>
      </div>

      <!-- Interactive Chart Section -->
      <div class="card shadow-lg mb-4">
        <div class="card-header bg-dark text-white">
          <h4 class="card-title mb-0">Interactive Chart</h4>
        </div>
        <div class="card-body">
          {% include 'charts/meta_analysis_chart.html' %}
        </div>
      </div>

      <!-- Parameter Usage Card (Tables) -->
      <div class="card shadow-lg">
        <div class="card-header bg-dark text-white">
          <h5 class="card-title mb-0">Parameter Usage Among Top Models</h5>
        </div>
        <div class="card-body">
          <p>
            We analyzed parameter choices frequently found in
            our top-performing models. In the tables below, <em>Usage Rate</em> represents
            the percentage of total occurrences of a parameter value that contributed to a top-performing
            model.
          </p>
          <ul class="mb-4">
            <li>
              <strong>Optimal Prediction Horizon:</strong>
              25-29 days or 30-34 days
            </li>
            <li>
              <strong>Optimal Lookback Period:</strong>
              700-799 days or 800-899 days
            </li>
            <li>
              <strong>Feature Set:</strong> basic
            </li>
            <li>
              <strong>Hyperparameter Tuning:</strong> low
            </li>
          </ul>

          <!-- Prediction Horizon Table -->
          <h6 class="fw-bold">Prediction Horizon (Days)</h6>
          <div class="table-responsive mb-4">
            <table class="table table-dark table-striped table-bordered text-center align-middle">
              <thead>
                <tr>
                  <th>Value Range</th>
                  <th>Usage Rate</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>25-29</td>
                  <td>16.32%</td>
                </tr>
                <tr>
                  <td>30-34</td>
                  <td>15.04%</td>
                </tr>
                <tr>
                  <td>20-24</td>
                  <td>13.16%</td>
                </tr>
                <tr>
                  <td>15-19</td>
                  <td>7.19%</td>
                </tr>
                <tr>
                  <td>10-14</td>
                  <td>3.28%</td>
                </tr>
                <tr>
                  <td>5-9</td>
                  <td>1.27%</td>
                </tr>
              </tbody>
            </table>
          </div>

          <!-- Lookback Period Table -->
          <h6 class="fw-bold">Lookback Period (Days)</h6>
          <div class="table-responsive mb-4">
            <table class="table table-dark table-striped table-bordered text-center align-middle">
              <thead>
                <tr>
                  <th>Value Range</th>
                  <th>Usage Rate</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>700-799</td>
                  <td>11.16%</td>
                </tr>
                <tr>
                  <td>800-899</td>
                  <td>10.83%</td>
                </tr>
                <tr>
                  <td>900-999</td>
                  <td>9.28%</td>
                </tr>
                <tr>
                  <td>1000-1099</td>
                  <td>7.88%</td>
                </tr>
                <tr>
                  <td>1100-1199</td>
                  <td>6.82%</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div><!-- End Card Body -->
      </div><!-- End Card -->

      <!-- Top Features Card (Numbered List & Table) -->
      <div class="card shadow-lg mb-4">
        <div class="card-header bg-dark text-white">
          <h5 class="card-title mb-0">Top Features & Their Scores</h5>
        </div>
        <div class="card-body">
          <p>
            Below is an ordered list of the most impactful features (highest to lowest),
            along with their approximate contribution scores. Each feature is briefly defined
            for clarity:
          </p>
          <ol>
            <li>
              <strong>Gross Domestic Product Growth</strong> (score: 0.85)<br>
              Quarterly Reports of the GDP assigned to training and testing dates.
            </li>
            <li>
              <strong>50-Day Simple Moving Average </strong> (score: 0.78)<br>
              The average stock price over the last 50 trading days.
            </li>
            <li>
              <strong>Lower Bollinger Band</strong> (score: 0.75)<br>
              A technical indicator plotted a specified number of standard deviations
              below a simple moving average, often signaling potential low points.
            </li>
            <li>
              <strong>100-Day Simple Moving Average </strong> (score: 0.72)<br>
              The average stock price over the last 100 trading days.
            </li>
            <li>
              <strong>60-Day Rolling Volatility</strong> (score: 0.70)<br>
              The standard deviation of returns over the last 60 trading days,
              indicating how volatile a security is.
            </li>
            <li>
              <strong>Unemployment Rate</strong> (score: 0.68)<br>
              Quarterly Reports of the Unemployment rate assigned to training and testing dates.
            </li>
            <li>
              <strong>60-Day Momentum</strong> (score: 0.65)<br>
              A momentum indicator reflecting the rate of change of a stock's price
              over the past 60 days.
            </li>
            <li>
              <strong>Moving Average Convergence Divergence </strong> (score: 0.60)<br>
              A trend-following momentum indicator showing the relationship
              between two moving averages.
            </li>
            <li>
              <strong>Upper Bollinger Band</strong> (score: 0.58)<br>
              A technical indicator plotted a specified number of standard deviations
              above a simple moving average, often signaling potential high points.
            </li>
            <li>
              <strong>60-Day Correlation with the S&amp;P 500</strong> (score: 0.55)<br>
              How closely a stock's returns move in relation to the S&amp;P 500 index
              over the last 60 days.
            </li>
          </ol>
        </div>
      </div>

    </div>
  </div>
</section>
{% endblock %}